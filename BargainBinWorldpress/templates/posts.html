<!--  наследуемся от шаблона default.html, который мы создавали для flatpages -->
{% extends 'default.html' %}

<!-- Название у нас будет news -->
{% block title %}
Все Новости
{% endblock title %}

<!-- В контенте на странице мы выводим все товары -->
{% block content %}
<h1>Все новости</h1>
{% for post in posts %}
    <div class="post">
        <h3>{{ post.title }}</h3>
        <div class="dark">
            <span class="badge rounded-pill bg-secondary">{{ post.author }}</span>
            <span class="badge rounded-pill bg-secondary">{{ post.publication_date|date:'d M Y'|default:"из недалекого будущего" }}</span>
            <span class="badge rounded-pill bg-info">{{ post.category.title }}</span>
            {% if not post.is_article %}
                <span class="badge rounded-pill bg-info">новости</span>
            {% endif %}

        </div>
        <div class="post_content">
            {{ post.content|truncatewords_html:30|safe }}
            <a class="badge pill bg-warning align-center" href="/posts/{{ post.pk }}">читать дальше</a>
        </div>
        {% for tag in post.tags.all %}
            <span class="badge rounded-pill bg-secondary">{{ tag.title }}</span>
        {% endfor %}
    </div>
    <hr style="margin-top:10px">
{% endfor %}
{% endblock content %}